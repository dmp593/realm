{% extends "base.html" %}
{% load static %}
{% load custom_styles %}


{% block content %}
<main class="flex-grow bg-gray-100 py-10">
  <div class="container mx-auto px-4">
    <div class="max-w-3xl mx-auto bg-white shadow-lg rounded-lg overflow-hidden">
      <div class="p-6">
        <h2 class="text-3xl font-bold mb-6 text-center text-gray-800">Adicionar Nova Casa</h2>
        <form id="house-form" method="post" enctype="multipart/form-data" class="grid grid-cols-1 md:grid-cols-2 gap-6">
          {% csrf_token %}
          {{ form.non_field_errors }}
          <div class="col-span-1 md:col-span-2">
            <label for="{{ form.title.id_for_label }}" class="block text-sm font-medium text-gray-700">Título</label>
            {{ form.title|add_class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500" }}
            <div id="error_title" class="text-red-500 text-sm mt-1"></div>
          </div>
          <div class="col-span-1 md:col-span-2">
            <label for="{{ form.description.id_for_label }}" class="block text-sm font-medium text-gray-700">Descrição</label>
            {{ form.description|add_class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500" }}
            <div id="error_description" class="text-red-500 text-sm mt-1"></div>
          </div>
          <div class="col-span-1 md:col-span-2">
            <label for="{{ form.address.id_for_label }}" class="block text-sm font-medium text-gray-700">Morada</label>
            {{ form.address|add_class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500" }}
            <div id="error_address" class="text-red-500 text-sm mt-1"></div>
          </div>
          <div>
            <label for="{{ form.postal_code.id_for_label }}" class="block text-sm font-medium text-gray-700">Código Postal</label>
            {{ form.postal_code|add_class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500" }}
            <div id="error_postal_code" class="text-red-500 text-sm mt-1"></div>
          </div>
          <div>
            <label for="{{ form.price_in_euros.id_for_label }}" class="block text-sm font-medium text-gray-700">Preço em Euros</label>
            {{ form.price_in_euros|add_class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500" }}
            <div id="error_price_in_euros" class="text-red-500 text-sm mt-1"></div>
          </div>
          <div>
            <label for="{{ form.discount_in_euros.id_for_label }}" class="block text-sm font-medium text-gray-700">Desconto em Euros</label>
            {{ form.discount_in_euros|add_class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500" }}
            <div id="error_discount_in_euros" class="text-red-500 text-sm mt-1"></div>
          </div>
          <div>
            <label for="{{ form.locale.id_for_label }}" class="block text-sm font-medium text-gray-700">Zona</label>
            {{ form.locale|add_class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500" }}
            <div id="error_locale" class="text-red-500 text-sm mt-1"></div>
          </div>
          <div>
            <label for="{{ form.type.id_for_label }}" class="block text-sm font-medium text-gray-700">Tipo</label>
            {{ form.type|add_class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500" }}
            <div id="error_type" class="text-red-500 text-sm mt-1"></div>
          </div>
          <div>
            <label for="{{ form.typology.id_for_label }}" class="block text-sm font-medium text-gray-700">Tipologia</label>
            {{ form.typology|add_class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500" }}
            <div id="error_typology" class="text-red-500 text-sm mt-1"></div>
          </div>
          <div>
            <label for="{{ form.condition.id_for_label }}" class="block text-sm font-medium text-gray-700">Condição</label>
            {{ form.condition|add_class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500" }}
            <div id="error_condition" class="text-red-500 text-sm mt-1"></div>
          </div>
          <div>
            <label for="{{ form.energy_certificate.id_for_label }}" class="block text-sm font-medium text-gray-700">Certificado Energético</label>
            {{ form.energy_certificate|add_class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500" }}
            <div id="error_energy_certificate" class="text-red-500 text-sm mt-1"></div>
          </div>
          <div>
            <label for="{{ form.gross_private_area_in_square_meters.id_for_label }}" class="block text-sm font-medium text-gray-700">Área Bruta Privativa (m²)</label>
            {{ form.gross_private_area_in_square_meters|add_class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500" }}
            <div id="error_gross_private_area_in_square_meters" class="text-red-500 text-sm mt-1"></div>
          </div>
          <div>
            <label for="{{ form.net_internal_area_in_square_meters.id_for_label }}" class="block text-sm font-medium text-gray-700">Área Útil (m²)</label>
            {{ form.net_internal_area_in_square_meters|add_class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500" }}
            <div id="error_net_internal_area_in_square_meters" class="text-red-500 text-sm mt-1"></div>
          </div>
          <div>
            <label for="{{ form.construction_year.id_for_label }}" class="block text-sm font-medium text-gray-700">Ano de Construção</label>
            {{ form.construction_year|add_class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500" }}
            <div id="error_construction_year" class="text-red-500 text-sm mt-1"></div>
          </div>
          <div>
            <label for="{{ form.number_of_rooms.id_for_label }}" class="block text-sm font-medium text-gray-700">Número de Quartos</label>
            {{ form.number_of_rooms|add_class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500" }}
            <div id="error_number_of_rooms" class="text-red-500 text-sm mt-1"></div>
          </div>
          <div>
            <label for="{{ form.number_of_bathrooms.id_for_label }}" class="block text-sm font-medium text-gray-700">Número de Casas de Banho</label>
            {{ form.number_of_bathrooms|add_class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-pink-500 focus:border-pink-500" }}
            <div id="error_number_of_bathrooms" class="text-red-500 text-sm mt-1"></div>
          </div>
          <div>
            <label for="{{ form.has_garage.id_for_label }}" class="block text-sm font-medium text-gray-700">Tem Garagem?</label>
            {{ form.has_garage|add_class:"mt-1 block w-6 h-6 text-pink-500 border-gray-300 rounded focus:ring-pink-500 focus:border-pink-500" }}
            <div id="error_has_garage" class="text-red-500 text-sm mt-1"></div>
          </div>
          <div class="col-span-1 md:col-span-2">
            <label for="files" class="block text-sm font-medium text-gray-700">Imagens e Vídeos</label>
            <input type="file" name="files" id="files" multiple accept="image/*,video/*" class="mt-1 block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none focus:ring-pink-500 focus:border-pink-500">
            <div id="preview-container" class="mt-4 grid grid-cols-2 md:grid-cols-4 gap-4"></div>
            <div id="progress-container" class="mt-4">
              <div id="progress-bar" class="h-2 bg-pink-500 rounded-full" style="width: 0%;"></div>
            </div>
          </div>
          <div class="col-span-1 md:col-span-2">
            <label for="{{ form.active.id_for_label }}" class="block text-sm font-medium text-gray-700">Ativo</label>
            {{ form.active|add_class:"mt-1 block w-6 h-6 text-pink-500 border-gray-300 rounded focus:ring-pink-500 focus:border-pink-500" }}
            <div id="error_active" class="text-red-500 text-sm mt-1"></div>
          </div>
          <div class="col-span-1 md:col-span-2">
            <label for="{{ form.highlighted.id_for_label }}" class="block text-sm font-medium text-gray-700">Destacado</label>
            {{ form.highlighted|add_class:"mt-1 block w-6 h-6 text-pink-500 border-gray-300 rounded focus:ring-pink-500 focus:border-pink-500" }}
            <div id="error_highlighted" class="text-red-500 text-sm mt-1"></div>
          </div>
          <div class="col-span-1 md:col-span-2">
            <label for="{{ form.reserved.id_for_label }}" class="block text-sm font-medium text-gray-700">Reservado</label>
            {{ form.reserved|add_class:"mt-1 block w-6 h-6 text-pink-500 border-gray-300 rounded focus:ring-pink-500 focus:border-pink-500" }}
            <div id="error_reserved" class="text-red-500 text-sm mt-1"></div>
          </div>
          <div class="col-span-1 md:col-span-2 flex justify-end">
            <button type="submit" class="relative flex bg-pink-600 text-white ml-3 py-2 px-4 rounded-lg shadow-lg hover:bg-pink-700 transition-colors duration-300">
                Criar Casa
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</main>
{% endblock %}

{% block script %}
<script src="{% static 'js/houses/house_create.js' %}"></script>
{% endblock %}
